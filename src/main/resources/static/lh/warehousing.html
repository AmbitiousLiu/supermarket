<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1,maximum-scale=1,user-scalable=no" />
    <title>商品入库</title>
    <link rel="stylesheet" type="text/css" href="css/warehousing.css"/>
    <link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js"></script>
    <script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
		<script type="text/javascript" src="../public/js/vue.js" ></script>
		<script type="text/javascript" src="../public/js/ajaxUtil.js" ></script>
		<script type="text/javascript" src="../public/js/jquery-1.12.4.js" ></script>
</head>
<body>
		<div class="header">
			<p>超市管理系统</p>
		</div>
		<div class="center">
			<div class="center_of_left">
				<div id="Personal_management">
					<p><a href="/zbl/supermarket_pcenter.html" >个人中心&gt;</a></p>
				</div>
				<div id="Commodity_management">
					<p><a href="#" class="nav-item">商品管理&gt;</a></p>
				</div>
				<div id="Staff_management">
					<p>	<a href="/ych/supermarket_manager.html">员工管理&gt;</a></p>
				</div>
			</div>
			<div class="center_of_right">
				<div id="center_up">
					<div id="operator">
						<p><strong>经手人:</strong></p>
						<select name="">
							<option value="1">liuhai</option>
							<option value="2">liujianyong</option>
							<option value="3">shuruoyu</option>
						</select>
					</div>
				</div>
				<div id="center_goods">
					<div id="goods">
						<ul v-for="item in items">
							<li>
								<div class="goodsbox app">
									<img :src="`http://localhost:8080/image/commodity?cnum=${item.cnum}`"/>
									<h3>{{item.cname}}</h3>
									<p class="ms">供应商:<span id="pname">{{item.pname}}</span></p>
									<p class="bh">商品编号:<span id="cnum">{{item.cnum}}</span></p>
									<button id="show" >购入&gt;&gt;</button>
								</div>
							</li>
						</ul>
					</div>
				</div>
			</div>
			<div id="vapp" class="ycapp">
				<span id="">
					<div class="put">
						<div class="put_1">
							<label >入库单单号:</label>
							<input type="text" name="num" id="num" value="" />
						</div>
						<div class="put_2">
							<label >数量:</label>
							<input type="text" name="sum" id="sum" value="" />
						</div>
						<div class="put_3">
							<label >入库日期:</label>
							<input id="date" type="date" name="indate" value="" />
						</div>
						<input type="button" name="" id="submit" value="提交" />
					</div>
					<button id="hide">close</button>
				</span>
			</div>
		</div>	
</body>

<script type="text/javascript">
	var v1 = new Vue({
		el: '#center_goods',
		data: {
			items: []
		},
		mounted() {
			this.getInfo();
		},
		methods: {
			getInfo() {
				ajax({
					method: HTTP_METHOD.GET, 
			   		url: "/provider/provider", 
			   		async: true, 
			   		type: HTTP_RESPONSE_TYPE.JSON, 
			   		callback: (datas) => { // 这里错了 你这里下面的 this 是 这个 ajax( 里面这个对象表示的 this ，JS 的this 初学者很容易犯错)
			   			console.log(datas)
			   			// 改用箭头函数 ，this 就会与当前环境 上下文保持一致，就是 this 指向是 Vue的实例
			   			this.items = datas
			   		}
		   		})
			}
		}
	})
	
</script>
<script type="text/javascript">
	$(document).ready(function(){
  $("#hide").click(function(){
    $("#vapp").hide();
  });
  $("#show").click(function(){
    $("#vapp").show();
  });
});
</script>

<script language="JavaScript"> 
var today=new Date();
var submitTime=today.getFullYear()+'-'+(today.getMonth()+1)+'-'+today.getDate(); 
$("#date").attr('value',submitTime);
</script> 

</html>