<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>员工管理</title>
    <link rel="stylesheet" type="text/css" href="css/yggl.css"/>
    <link rel="stylesheet" type="text/css" href="../public/css/bootstrap.css"/>
    <!-- <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script> -->
    <script src="public/js/vue.js"></script>
    <script src="public/js/ajaxUtil.js"></script>
    <script type="text/javascript" src="public/js/jquery-1.12.4.js" ></script>
    <script src="js/supermarket_listpage.js"></script>
    <script src="js/supermarket_yggl.js"></script>
</head>
<body>
<header class="header">
    <p>超市管理系统</p>
</header>
<div class="center">
    <div class="center_of_left">
        <div id="Personal_management">
            <p><a href="/zbl/supermarket_pcenter.html" >个人中心&gt;</a></p>
        </div>
        <div id="Commodity_management">
            <p><a href="/ljy/commodity.html">商品管理&gt;</a></p>
        </div>
        <div id="Staff_management">
            <p>	<a href="#">员工管理&gt;</a></p>
        </div>
    </div>
    <div id="right">
        <div id="above">
            <div id="plogo"><img src="image/mango.jpg" class="img-circle" alt=""></div>
            <div id="branch"><div class="dropdown">
                <button class="dropbtn" title="请双击您选择的区域">请选择你的管辖区域</button>
                <div class="dropdown-content">
<!--                    <span @click = "display()"> <a href="javascript:;" v-for="(item,index) in branch" @click="changeBranch(branch[index]) ">{{ item }}</a></span>-->
                    <span id="category" @click = "getEpInfo()" title="请双击"> <a href="javascript:;" v-for="(item,index) in branch" @click="changeBranch(branch[index]) ">{{ item }}</a></span>
                    <script>
                        const btn = document.getElementById('category');
                        simulateClick();
                        function simulateClick() {
                            const event = new MouseEvent('click', {
                                view: window,
                                bubbles: true,
                                cancelable: true
                            });
                            btn.dispatchEvent(event);
                        }
                    </script>
                </div>
            </div>
            </div>
            <div id="hello"><h3>{{ name }},你好</h3></div>
            <div id="choice"><h4>你选择的区域:&nbsp&nbsp&nbsp&nbsp{{ elbranch }}</h4></div>
        </div>
        <div id="below">
            <div id="employeeinfo">
                <div class="em_intro">
                    <table class="imagetable" width=100% height=60px v-show="employee_name.length">
                        <tr>
                            <th width=25%>员工工号</th>
                            <th width=25%>员工姓名</th>
                            <th width=25%>工作</th>
                            <th width=25%>绿码情况</th>
                        </tr>
                    </table>
                </div>
                <div class="em_detail">
                    <table class="imagetable" id="table_result" height=100% width=100%>
                        <tr v-for="(item,index) in employee_num" v-for="(item,index) in employee_name" v-for="(item,index) in employee_job" v-for="(item,index) in employee_signin">
                            <td id=stu_num width=219px width=25%>{{ employee_num[index] }}</td>
                            <td id=name width=232px width=25%>{{ employee_name[index] }}</td>
                            <td id=work width=230px width=25%>{{ employee_job[index] }}</td>
                            <td id=sign width=231px width=25%>{{ employee_signin[index] }}</td>
                        </tr>
                    </table>
                </div>
                <br>
                <div id="barcon" name="barcon" v-show="employee_name.length"></div>
            </div>  
            <div id="opearation" v-show="employee_name.length">
                <input type="text" name="stu_num" id="istu_num" minlength="6" maxlength="10" οnkeyup="value=value.replace(/[^\d]/g,'')" placeholder="新增员工工号" required="required">
                <input type="text" name="name" id="iname" placeholder="新增员工姓名" required="required">
                <input type="text" name="work" id="iwork" placeholder="新增员工工作" required="required">
                <input @click="addEmployee()" type="button" id="add" value="确认新增">
                <br><br><br>
                <input v-show="employee_name.length" type="text" id="dstu_num" v-model="number" placeholder="请输入员工工号" required="required">
                <input @click="removeEmployee()" v-show="employee_name.length" type="button" id="remove" value="删除员工" >
            </div>
        </div>
    </div>
</div>
<!--<script>-->
<!--    goPage(1, 3);-->
<!--    function goPage(pno, psize) {-->
<!--        var itable = document.getElementById("table_result");//通过ID找到表格-->
<!--        var num = itable.rows.length;//表格所有行数(所有记录数)-->
<!--        var totalPage = 0;//总页数-->
<!--        var pageSize = psize;//每页显示行数-->
<!--        //总共分几页-->
<!--        if (num / pageSize > parseInt(num / pageSize)) {-->
<!--            totalPage = parseInt(num / pageSize) + 1;-->
<!--        } else {-->
<!--            totalPage = parseInt(num / pageSize);-->
<!--        }-->
<!--        var currentPage = pno;//当前页数-->
<!--        var startRow = (currentPage - 1) * pageSize + 1; //开始显示的行-->
<!--        var endRow = currentPage * pageSize; //结束显示的行-->
<!--        endRow = (endRow > num) ? num : endRow;-->
<!--        //遍历显示数据实现分页-->
<!--        for (var i = 1; i < (num + 1); i++) {-->
<!--            var irow = itable.rows[i - 1];-->
<!--            if (i >= startRow && i <= endRow) {-->
<!--                irow.style.display = "block";-->
<!--            } else {-->
<!--                irow.style.display = "none";-->
<!--            }-->
<!--        }-->
<!--        var tempStr = "";-->
<!--        if (currentPage > 1) {-->
<!--            tempStr += "<a href=\"#\" onClick=\"goPage(" + (currentPage - 1) + "," + psize + ")\"><上一页&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>"-->
<!--            for (var j = 1; j <= totalPage; j++) {-->
<!--                tempStr += "<a href=\"#\" onClick=\"goPage(" + j + "," + psize + ")\">" + j + "&nbsp;&nbsp;&nbsp;</a>"-->
<!--            }-->
<!--        } else {-->
<!--            tempStr += "<上一页&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;";-->
<!--            for (var j = 1; j <= totalPage; j++) {-->
<!--                tempStr += "<a href=\"#\" onClick=\"goPage(" + j + "," + psize + ")\">" + j + "&nbsp;&nbsp;&nbsp;</a>"-->
<!--            }-->
<!--        }-->
<!--        if (currentPage < totalPage) {-->
<!--            tempStr += "<a href=\"#\" onClick=\"goPage(" + (currentPage + 1) + "," + psize + ")\">下一页>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>";-->
<!--            for (var j = 1; j <= totalPage; j++) {-->
<!--            }-->
<!--        } else {-->
<!--            tempStr += "  下一页>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;";-->
<!--            for (var j = 1; j <= totalPage; j++) {-->
<!--            }-->
<!--        }-->
<!--        document.getElementById("barcon").innerHTML = tempStr;-->
<!--    }-->
<!--</script>-->
<!--<script src="jquery-1.11.1.js"></script>-->
<!--<script>-->
<!--    $(function(){-->
<!--        var $table = $('table');-->
<!--        var currentPage = 0;//当前页默认值为0-->
<!--        var pageSize = 3;//每一页显示的数目-->
<!--        $table.bind('paging',function(){-->
<!--            $table.find('tbody tr').hide().slice(currentPage*pageSize,(currentPage+1)*pageSize).show();-->
<!--        });-->
<!--        var sumRows = $table.find('tbody tr').length;-->
<!--        var sumPages = Math.ceil(sumRows/pageSize);//总页数-->

<!--        var $pager = $('<div class="page"></div>');  //新建div，放入a标签,显示底部分页码-->
<!--        for(var pageIndex = 0 ; pageIndex<sumPages ; pageIndex++){-->
<!--            $('<a href="#" id="pageStyle" onclick="changCss(this)"><span>'+(pageIndex+1)+'</span></a>').bind("click",{"newPage":pageIndex},function(event){-->
<!--                currentPage = event.data["newPage"];-->
<!--                $table.trigger("paging");-->
<!--                //触发分页函数-->
<!--            }).appendTo($pager);-->
<!--            $pager.append(" ");-->
<!--        }-->
<!--        $pager.insertAfter($table);-->
<!--        $table.trigger("paging");-->

<!--        //默认第一页的a标签效果-->
<!--        var $pagess = $('#pageStyle');-->
<!--        $pagess[0].style.backgroundColor="#006B00";-->
<!--        $pagess[0].style.color="#ffffff";-->
<!--    });-->

<!--    //a链接点击变色，再点其他回复原色-->
<!--    function changCss(obj){-->
<!--        var arr = document.getElementsByTagName("a");-->
<!--        for(var i=0;i<arr.length;i++){-->
<!--            if(obj==arr[i]){       //当前页样式-->
<!--                obj.style.backgroundColor="#006B00";-->
<!--                obj.style.color="#ffffff";-->
<!--            }-->
<!--            else-->
<!--            {-->
<!--                arr[i].style.color="";-->
<!--                arr[i].style.backgroundColor="";-->
<!--            }-->
<!--        }-->
<!--    }-->
<!--</script>-->
</body>
</html>
