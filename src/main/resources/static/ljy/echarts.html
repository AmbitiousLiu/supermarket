<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>超市管理系统</title>
		<link rel="stylesheet" href="../public/css/bootstrap.css" />
		<script type="text/javascript" src="../public/js/vue.js" ></script>
		<script type="text/javascript" src="../public/js/ajaxUtil.js" ></script>
		<script type="text/javascript" src="../public/js/jquery-1.12.4.js" ></script>
		<link rel="stylesheet" href="../layui/css/layui.css" />
		<script type="text/javascript" src="../layui/layui.js" ></script>
		<script type="text/javascript" src="../echarts/echarts.min.js" ></script>
	</head>
	
	<body class="layui-layout-body">
	<div class="layui-layout layui-layout-admin">
	  <div class="layui-header">
	    <div class="layui-logo">超市管理系统</div>
	    <ul class="layui-nav layui-layout-right">
	      <li class="layui-nav-item">
	      	<img src="/image/person" class="layui-nav-img">
	      </li>
	      <li class="layui-nav-item">
	      	<a>姓名</a>
	      </li>
	      <li class="layui-nav-item"><a href="">退出登录</a></li>
	    </ul>
	  </div>
	  
	  <div class="layui-side layui-bg-black">
	    <div class="layui-side-scroll">
	      <ul class="layui-nav layui-nav-tree"  lay-filter="test">
	        <li class="layui-nav-item">
	          <a class="" href="/zbl/person.html">个人中心</a>
	          <dl class="layui-nav-child">
	            <dd><a href="/zbl/person_change.html">&emsp;修改信息</a></dd>
	          </dl>
	        </li>
	        <li class="layui-nav-item">
	          <a href="/ljy/commodity.html">商品管理</a>
	          <dl class="layui-nav-child">
	            <dd><a href="/ljy/stock.html">&emsp;上架商品</a></dd>
	            <dd><a href="/ljy/provider.html">&emsp;购入商品</a></dd>
	          </dl>
	        </li>
	        <li class="layui-nav-item">
	          <a href="/ljy/manage.html">员工管理</a>
	          <dl class="layui-nav-child">
	            <dd><a href="/ljy/manage_role.html">&emsp;权限管理</a></dd>
	          </dl>
	        </li>
	        <li class="layui-nav-item layui-this"><a href="javascript:return false;">查看足迹</a></li>
	        <li class="layui-nav-item"><a href="/ljy/about.html">关于我们</a></li>
	      </ul>
	    </div>
	  </div>
	  
	  <div class="layui-body" style="margin-bottom: -45px;">
	    <!-- 内容主体区域 -->
	    <div style="padding: 30px;">
	    	
			<div id="main" style="width: 100%;height:500px;"></div>
			<div id="bar" style="width: 100%;height:500px;"></div>
			<table class="layui-hide" id="table" ></table>
	    	
	    </div>
	  </div>

	</div>
	<script>
	layui.use('element', function(){
	  var element = layui.element;
	  
	});
	</script>
	
	<script>
		// 定义
		var mychart = echarts.init(document.getElementById('main'));
		var bar = echarts.init(document.getElementById('bar'));
		
		// 显示加载
		mychart.showLoading();
		bar.showLoading();
		
		// 1默认
		option1 = {
		    backgroundColor: '#2c343c',
		
		    title: {
		        text: '历史访问比例',
		        left: 'center',
		        top: 20,
		        textStyle: {
		            color: '#ccc'
		        }
		    },
		
		    tooltip: {
		        trigger: 'item',
		        formatter: '{a} <br/>{b} : {c} ({d}%)'
		    },
		
		    visualMap: {
		        show: false,
		        min: 80,
		        max: 600,
		        inRange: {
		            colorLightness: [0, 1]
		        }
		    },
		    series: [
		        {
		            name: '访问来源',
		            type: 'pie',
		            radius: '55%',
		            center: ['50%', '50%'],
		            data: [
		                {value: 335, name: '直接访问'},
		                {value: 310, name: '邮件营销'},
		                {value: 274, name: '联盟广告'},
		                {value: 235, name: '视频广告'},
		                {value: 400, name: '搜索引擎'}
		            ].sort(function (a, b) { return a.value - b.value; }),
		            roseType: 'radius',
		            label: {
		                color: 'rgba(255, 255, 255, 0.3)'
		            },
		            labelLine: {
		                lineStyle: {
		                    color: 'rgba(255, 255, 255, 0.3)'
		                },
		                smooth: 0.2,
		                length: 10,
		                length2: 20
		            },
		            itemStyle: {
		                color: '#c23531',
		                shadowBlur: 200,
		                shadowColor: 'rgba(0, 0, 0, 0.5)'
		            },
		
		            animationType: 'scale',
		            animationEasing: 'elasticOut',
		            animationDelay: function (idx) {
		                return Math.random() * 200;
		            }
		        }
		    ]
		};
		
		// 2默认
		option2 = {
		    xAxis: {
		        type: 'category',
		        data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']
		    },
		    yAxis: {
		        type: 'value'
		    },
		    series: [{
		        data: [120, 200, 150, 80, 70, 110, 130],
		        type: 'bar'
		    }]
		};
		
		// 显示默认
		mychart.setOption(option1);
		bar.setOption(option2);
		
		// 1加载
		$.get('/fprints/sum', function (datas) {
		    mychart.setOption({
		        series : [
		            {
		                data: datas
		            }
		        ]
		    });
		    mychart.hideLoading(); 
		}, 'json')
		
		// 2加载
		$.get('/', function (datas) {
		    bar.setOption({
		        series : [
		            {
		                data: datas
		            }
		        ],
		        xAxis: {
			        data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']
			    }
		    });
		    bar.hideLoading(); 
		}, 'json')
		
		// 数据表格加载
		layui.use('table', function(){
		  var table = layui.table;
		  
		  table.render({
		    elem: '#table'
		    ,url:'/fprints/table'
		    ,page: true
		    ,limit: 10
		    ,cellMinWidth: 80 //全局定义常规单元格的最小宽度，layui 2.2.1 新增
		    ,cols: [[
		      {field:'stu_num', title: '职工号', align: 'center'}
		      ,{field:'url', title: '页面', align: 'center'} //width 支持：数字、百分比和不填写。你还可以通过 minWidth 参数局部定义当前单元格的最小宽度，layui 2.2.1 新增
		      ,{field:'date', title: '时间', sort: true, align: 'center'}
		    ]]
		  });
		});
		
	</script>
	
</body>
	
	<script type="text/javascript">
		
		
		
	</script>
	
</html>
