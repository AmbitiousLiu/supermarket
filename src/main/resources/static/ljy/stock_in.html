<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>超市管理系统</title>
		<link rel="stylesheet" href="../public/css/bootstrap.css" />
		<script type="text/javascript" src="../public/js/vue.js" ></script>
		<script type="text/javascript" src="../public/js/ajaxUtil.js" ></script>
		<script type="text/javascript" src="../public/js/jquery-1.12.4.js" ></script>
		
		<link rel="stylesheet" href="../layui/css/layui.css" />
		<script type="text/javascript" src="../layui/layui.js" ></script>
	</head>
	
	<body class="layui-layout-body">
	<div class="layui-layout layui-layout-admin">
	  <div class="layui-header">
	    <div class="layui-logo">超市管理系统</div>
	    <ul class="layui-nav layui-layout-right">
	      <li class="layui-nav-item">
	      	<img src="./img/haiwenxiang.jpg" class="layui-nav-img">
	      </li>
	      <li class="layui-nav-item">
	      	<a>姓名</a>
	      </li>
	      <li class="layui-nav-item"><a href="">退出登录</a></li>
	    </ul>
	  </div>
	  
	  <div class="layui-side layui-bg-black">
	    <div class="layui-side-scroll">
	      <ul class="layui-nav layui-nav-tree"  lay-filter="test">
	        <li class="layui-nav-item">
	          <a class="" href="javascript:;">个人中心</a>
	          <dl class="layui-nav-child">
	            <dd><a href="javascript:;">&emsp;修改信息</a></dd>
	          </dl>
	        </li>
	        <li class="layui-nav-item">
	          <a href="javascript:;">商品管理</a>
	          <dl class="layui-nav-child">
	            <dd><a href="javascript:;">&emsp;上架商品</a></dd>
	            <dd><a href="javascript:;">&emsp;购入商品</a></dd>
	          </dl>
	        </li>
	        <li class="layui-nav-item">
	          <a href="javascript:;">员工管理</a>
	          <dl class="layui-nav-child">
	            <dd><a href="javascript:;">&emsp;权限管理</a></dd>
	          </dl>
	        </li>
	        <li class="layui-nav-item"><a href="">关于我们</a></li>
	      </ul>
	    </div>
	  </div>
	  
	  <div class="layui-body" style="background: #F0F0F0; margin-bottom: -45px;">
	    <!-- 内容主体区域 -->
	    <div style="padding: 30px; padding-top: 100px;">
	    	
	    	<div class="layui-card">
	    	<div class="layui-card-body" style="padding-top: 40px;">
	    	<form class="layui-form" action="">
			  <div class="layui-form-item">
			    <div class="layui-inline">
			      <label class="layui-form-label"  style="width: 120px;">入库单号：</label>
			      <div class="layui-input-inline">
			        <input type="text" name="num" id="num" disabled="disabled" class="layui-input">
			      </div>
			    </div>
			    <div class="layui-inline">
			      <label class="layui-form-label"  style="width: 120px;">供应商家号：</label>
			      <div class="layui-input-inline">
			        <input type="text" name="pnum" id="pnum" disabled="disabled" class="layui-input">
			      </div>
			    </div>
			    <div class="layui-inline">
			      <label class="layui-form-label"  style="width: 120px;">供应商名称：</label>
			      <div class="layui-input-inline">
			        <input type="text" name="pname" id="pname" disabled="disabled" class="layui-input">
			      </div>
			    </div>
			  </div>
			  
			  <div class="layui-form-item">
			    <div class="layui-inline">
			      <label class="layui-form-label"  style="width: 120px;">商品号：</label>
			      <div class="layui-input-inline">
			        <input type="text" name="cnum" id="cnum" disabled="disabled" class="layui-input">
			      </div>
			    </div>
			    <div class="layui-inline">
			      <label class="layui-form-label"  style="width: 120px;">商品名：</label>
			      <div class="layui-input-inline">
			        <input type="text" name="cname" id="cname" disabled="disabled" class="layui-input">
			      </div>
			    </div>
			    <div class="layui-inline">
			      <label class="layui-form-label"  style="width: 120px;">进价：</label>
			      <div class="layui-input-inline">
			        <input type="text" name="price" id="price" disabled="disabled" class="layui-input">
			      </div>
			    </div>
			  </div>
			  
			  <div class="layui-form-item">
			  	<div class="layui-inline">
			      <label class="layui-form-label"  style="width: 120px;">类别：</label>
			      <div class="layui-input-inline">
			        <input type="text" name="region" id="region" disabled="disabled" class="layui-input">
			      </div>
			    </div>
			    <div class="layui-inline">
			      <label class="layui-form-label"  style="width: 120px;">数量：</label>
			      <div class="layui-input-inline">
			        <input type="text" name="sum" id="sum" lay-verify="required|number" class="layui-input">
			      </div>
			    </div>
			  </div>
			  
			  <div class="layui-form-item">
			  	<div class="layui-inline">
			      <div class="layui-input-inline">
			      	<label class="layui-form-label"  style="width: 120px;">
			      		<input type="submit" class="layui-btn" value="提交" style="margin-left: 105px;"/>
			      	</label>
			      </div>
			    </div>
			    <div class="layui-inline">
			      <div class="layui-input-inline">
			      	<label class="layui-form-label"  style="width: 120px;">
			      		<input class="btn-link" value="查看更多历史入库单" style="margin-left: 225px;"/>
			      	</label>
			      </div>
			    </div>
			  </div>
			</form>
	    	</div>
	    	</div>
	    </div>
	  </div>

	</div>
	<script>
	layui.use('element', function(){
	  var element = layui.element;
	  
	});
	</script>
</body>
	
	<script type="text/javascript">
		
		var reg = new RegExp("(^|&)" + "cnum" + "=([^&]*)(&|$)"); //构造一个含有目标参数的正则表达式对象
		var r = window.location.search.substr(1).match(reg);  //匹配目标参数
		var cnum = unescape(r[2]); //返回参数值
		
		var reg1 = new RegExp("(^|&)" + "pnum" + "=([^&]*)(&|$)"); //构造一个含有目标参数的正则表达式对象
		var r1 = window.location.search.substr(1).match(reg1);  //匹配目标参数
		var pnum = unescape(r1[2]); //返回参数值
		
		function guid() {
			var time = new Date();
			return time.getTime();
		}
		
		$("#num").val(guid());
		$("#pnum").val(pnum);
		ajax({
			method:HTTP_METHOD.GET,
			url:"/provider/getInfo?pnum="+pnum,
			async:true,
			type:HTTP_RESPONSE_TYPE.JSON,
			callback:(data)=>{
				$("#pname").val(data[0].pname);
			}
		})
		$("#cnum").val(cnum);
		ajax({
			method:HTTP_METHOD.GET,
			url:"/providerCom/getComInfo?cnum="+cnum,
			async:true,
			type:HTTP_RESPONSE_TYPE.JSON,
			callback:(data)=>{
				$("#cname").val(data[0].cname);
				$("#price").val(data[0].price);
				$("#region").val(data[0].region);
			}
		})
		
	</script>
	
</html>
