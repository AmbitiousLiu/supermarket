<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>è¶…å¸‚ç®¡ç†ç³»ç»Ÿ</title>
		<link rel="stylesheet" href="../public/css/bootstrap.css" />
		<script type="text/javascript" src="../public/js/vue.js" ></script>
		<script type="text/javascript" src="../public/js/ajaxUtil.js" ></script>
		<script type="text/javascript" src="../public/js/jquery-1.12.4.js" ></script>
		
		<link rel="stylesheet" href="../layui/css/layui.css" />
		<script type="text/javascript" src="../layui/layui.js" ></script>
	</head>
	
	<body class="layui-layout-body">
	<div class="layui-layout layui-layout-admin">
	  <div class="layui-header">
	    <div class="layui-logo">è¶…å¸‚ç®¡ç†ç³»ç»Ÿ</div>
	    <ul class="layui-nav layui-layout-right">
	      <li class="layui-nav-item">
	      	<img src="./img/haiwenxiang.jpg" class="layui-nav-img">
	      </li>
	      <li class="layui-nav-item">
	      	<a>å§“å</a>
	      </li>
	      <li class="layui-nav-item"><a href="">é€€å‡ºç™»å½•</a></li>
	    </ul>
	  </div>
	  
	  <div class="layui-side layui-bg-black">
	    <div class="layui-side-scroll">
	      <ul class="layui-nav layui-nav-tree"  lay-filter="test">
	        <li class="layui-nav-item">
	          <a class="" href="javascript:;">ä¸ªäººä¸­å¿ƒ</a>
	          <dl class="layui-nav-child">
	            <dd><a href="javascript:;">&emsp;ä¿®æ”¹ä¿¡æ¯</a></dd>
	          </dl>
	        </li>
	        <li class="layui-nav-item">
	          <a href="javascript:;">å•†å“ç®¡ç†</a>
	          <dl class="layui-nav-child">
	            <dd><a href="javascript:;">&emsp;ä¸Šæ¶å•†å“</a></dd>
	            <dd><a href="javascript:;">&emsp;è´­å…¥å•†å“</a></dd>
	          </dl>
	        </li>
	        <li class="layui-nav-item">
	          <a href="javascript:;">å‘˜å·¥ç®¡ç†</a>
	          <dl class="layui-nav-child">
	            <dd><a href="javascript:;">&emsp;æƒé™ç®¡ç†</a></dd>
	          </dl>
	        </li>
	        <li class="layui-nav-item"><a href="">å…³äºæˆ‘ä»¬</a></li>
	      </ul>
	    </div>
	  </div>
	  
	  <div class="layui-body" style="margin-bottom: -45px;">
	    <!-- å†…å®¹ä¸»ä½“åŒºåŸŸ -->
	    <div style="padding: 30px;">
	    	
	    	<ul class="layui-timeline">
			  <li class="layui-timeline-item">
			    <i class="layui-icon layui-timeline-axis">î–</i>
			    <div class="layui-timeline-content layui-text">
			      <div class="layui-timeline-title">æœ‰å¥è¯å«å•¥æ¥ç€ï¼Ÿå¯¹ï¼Œå«å†¤å®¶è·¯çª„ï¼</div>
			      <div>
			      <div class="layui-collapse" lay-filter="test">
					  <div class="layui-colla-item">
					    <h2 class="layui-colla-title">å¬ä¸æ‡‚ï¼Ÿè¯´çš„å°±æ˜¯ä¸‹é¢çš„é‚£å‡ ä¸ªã€‚</h2>
					    <div class="layui-colla-content">
					      <p>é…¥å¼±ğŸŸ: æ—¢é…¥ï¼Œåˆå¼±ï¼Œè¿˜å¤šä½™ã€‚</p>
					      <p>æµæµ·: å‘é™…çº¿å†é«˜éƒ½ä¸æ€•ã€‚</p>
					      <p>å“‡å¡: å’Œå¸…æ˜¯è¿‘äº²ï¼Œå°±æ˜¯ä»…ä»…æ˜¯è¿‘éŸ³çš„å…³ç³»ã€‚</p>
					      <p>ç¾Šæˆè€—: ä¸æ”¾è¿‡ä½ ï¼Œä»…ä»…æ˜¯å› ä¸ºä½ çš„æ€§åˆ«ã€‚</p>
					      <p>å‘¨æ†¨çš®: å°±æ˜¯äººå¦‚å…¶åã€‚</p>
					      <p>åˆ˜å›§: ä¸å¸Œæœ›å¤ªå›§çš„å›§ã€‚</p>
					    </div>
					  </div>
					  <div class="layui-colla-item">
					    <h2 class="layui-colla-title">ä»–ä»¬è¿™æ˜¯è¦å¹²å˜›ï¼Ÿ</h2>
					    <div class="layui-colla-content">
					      <p>å¾ˆç®€å•ï¼Œå°±æ˜¯èœé¸¡äº’å•„ã€‚</p>
					    </div>
					  </div>
				  </div>
				  </div>
			    </div>
			  </li>
			  <li class="layui-timeline-item">
			    <i class="layui-icon layui-timeline-axis">î˜¿</i>
			    <div class="layui-timeline-content layui-text">
			      <div class="layui-timeline-title">è¿™ä¹ˆå¼±é¸¡ï¼Œæˆ‘ä»¬æ‰ä¸è¦ä»–ä»¬è”ç³»æ–¹å¼å‘¢ã€‚</div>
			      <div>
			      	<button class="layui-btn site-demo-layim" data-type="add">ç‚¹å‡»åˆ é™¤å¥½å‹</button>
			      </div>
			    </div>
			  </li>
			  <li class="layui-timeline-item">
			    <i class="layui-icon layui-timeline-axis">î˜¿</i>
			    <div class="layui-timeline-content layui-text">
			      <div class="layui-timeline-title">2016å¹´ï¼Œlayui é¦–ä¸ªç‰ˆæœ¬å‘å¸ƒ</div>
			    </div>
			  </li>
			  <li class="layui-timeline-item">
			    <i class="layui-icon layui-timeline-axis">î˜¿</i>
			    <div class="layui-timeline-content layui-text">
			      <div class="layui-timeline-title">2015å¹´ï¼Œlayui å­µåŒ–</div>
			    </div>
			  </li>
			  <li class="layui-timeline-item">
			    <i class="layui-icon layui-anim layui-anim-rotate layui-anim-loop layui-timeline-axis">î˜¾</i>
			    <div class="layui-timeline-content layui-text">
			      <div class="layui-timeline-title">æ›´ä¹…å‰ï¼Œè½®å­æ—¶ä»£ã€‚ç»´æŠ¤å‡ ä¸ªç‹¬ç«‹ç»„ä»¶ï¼šlayerç­‰</div>
			    </div>
			  </li>
			</ul>
	    	
	    	
	    	
	    </div>
	  </div>

	</div>
	<script>
	layui.use('element', function(){
	  var element = layui.element;
	  
	});
	</script>
	
	<script>
	layui.use('layim', function(){
	  var $ = layui.jquery, active = {
	    
	    add: function(){
	      //å®é™…ä½¿ç”¨æ—¶æ•°æ®ç”±åŠ¨æ€è·å¾—
	      layim.add({
	        type: 'friend'
	        ,username: 'sry'
	        ,avatar: './img/haiwenxiang.jpg'
	        ,submit: function(group, remark, index){
	          layer.msg('å¥½å‹åˆ é™¤ç”³è¯·å·²å‘é€ï¼Œè¯·ç­‰å¾…å¯¹æ–¹æ‹’ç»', {
	            icon: 1
	            ,shade: 0.5
	          }, function(){
	            layer.close(index);
	          });
	          
	          //é€šçŸ¥å¯¹æ–¹
	          /*
	          $.post('/im-applyFriend/', {
	            uid: info.uid
	            ,from_group: group
	            ,remark: remark
	          }, function(res){
	            if(res.status != 0){
	              return layer.msg(res.msg);
	            }
	            layer.msg('å¥½å‹ç”³è¯·å·²å‘é€ï¼Œè¯·ç­‰å¾…å¯¹æ–¹ç¡®è®¤', {
	              icon: 1
	              ,shade: 0.5
	            }, function(){
	              layer.close(index);
	            });
	          });
	          */
	        }
	      });
	    }
	    ,addqun: function(){
	      layim.add({
	        type: 'group'
	        ,username: 'LayIMä¼šå‘˜ç¾¤'
	        ,avatar: '//tva2.sinaimg.cn/crop.0.0.180.180.50/6ddfa27bjw1e8qgp5bmzyj2050050aa8.jpg'
	        ,submit: function(group, remark, index){
	          layer.msg('ç”³è¯·å·²å‘é€ï¼Œè¯·ç­‰å¾…ç®¡ç†å‘˜ç¡®è®¤', {
	            icon: 1
	            ,shade: 0.5
	          }, function(){
	            layer.close(index);
	          });
	          
	          //é€šçŸ¥å¯¹æ–¹
	          /*
	          $.post('/im-applyGroup/', {
	            uid: info.uid
	            ,from_group: group
	            ,remark: remark
	          }, function(res){
	          
	          });
	          */
	        }
	      });
	    }
	    ,addFriend: function(){
	      var user = {
	        type: 'friend'
	        ,id: 1234560
	        ,username: 'æå½¦å®' //å¥½å‹æ˜µç§°ï¼Œè‹¥ç”³è¯·åŠ ç¾¤ï¼Œå‚æ•°ä¸ºï¼šgroupname
	        ,avatar: '//tva4.sinaimg.cn/crop.0.0.996.996.180/8b2b4e23jw8f14vkwwrmjj20ro0rpjsq.jpg' //å¤´åƒ
	        ,sign: 'å…¨çƒæœ€å¤§çš„ä¸­æ–‡æœç´¢å¼•æ“'
	      }
	      layim.setFriendGroup({
	        type: user.type
	        ,username: user.username
	        ,avatar: user.avatar
	        ,group: layim.cache().friend //è·å–å¥½å‹åˆ—è¡¨æ•°æ®
	        ,submit: function(group, index){
	          //ä¸€èˆ¬åœ¨æ­¤æ‰§è¡ŒAjaxå’ŒWSï¼Œä»¥é€šçŸ¥å¯¹æ–¹å·²ç»åŒæ„ç”³è¯·
	          //â€¦â€¦
	          
	          //åŒæ„åï¼Œå°†å¥½å‹è¿½åŠ åˆ°ä¸»é¢æ¿
	          layim.addList({
	            type: user.type
	            ,username: user.username
	            ,avatar: user.avatar
	            ,groupid: group //æ‰€åœ¨çš„åˆ†ç»„id
	            ,id: user.id //å¥½å‹ID
	            ,sign: user.sign //å¥½å‹ç­¾å
	          });
	          
	          layer.close(index);
	        }
	      });
	    }
	    ,addGroup: function(){
	      layer.msg('å·²æˆåŠŸæŠŠ[Angularå¼€å‘]æ·»åŠ åˆ°ç¾¤ç»„é‡Œ', {
	        icon: 1
	      });
	      //å¢åŠ ä¸€ä¸ªç¾¤ç»„
	      layim.addList({
	        type: 'group'
	        ,avatar: "//tva3.sinaimg.cn/crop.64.106.361.361.50/7181dbb3jw8evfbtem8edj20ci0dpq3a.jpg"
	        ,groupname: 'Angularå¼€å‘'
	        ,id: "12333333"
	        ,members: 0
	      });
	    }
	    ,removeFriend: function(){
	      layer.msg('å·²æˆåŠŸåˆ é™¤[å‡¤å§]', {
	        icon: 1
	      });
	      //åˆ é™¤ä¸€ä¸ªå¥½å‹
	      layim.removeList({
	        id: 121286
	        ,type: 'friend'
	      });
	    }
	    ,removeGroup: function(){
	      layer.msg('å·²æˆåŠŸåˆ é™¤[å‰ç«¯ç¾¤]', {
	        icon: 1
	      });
	      //åˆ é™¤ä¸€ä¸ªç¾¤ç»„
	      layim.removeList({
	        id: 101
	        ,type: 'group'
	      });
	    }
	    //ç½®ç°ç¦»çº¿å¥½å‹
	    ,setGray: function(){
	      layim.setFriendStatus(168168, 'offline');
	      
	      layer.msg('å·²æˆåŠŸå°†å¥½å‹[é©¬å°äº‘]ç½®ç°', {
	        icon: 1
	      });
	    }
	    //å–æ¶ˆå¥½å‹ç½®ç°
	    ,unGray: function(){
	      layim.setFriendStatus(168168, 'online');
	      
	      layer.msg('æˆåŠŸå–æ¶ˆå¥½å‹[é©¬å°äº‘]ç½®ç°çŠ¶æ€', {
	        icon: 1
	      });
	    }
	    //ç§»åŠ¨ç«¯ç‰ˆæœ¬
	    ,mobile: function(){
	      var device = layui.device();
	      var mobileHome = '/layim/demo/mobile.html';
	      if(device.android || device.ios){
	        return location.href = mobileHome;
	      }
	      var index = layer.open({
	        type: 2
	        ,title: 'ç§»åŠ¨ç‰ˆæ¼”ç¤º ï¼ˆæˆ–æ‰‹æœºæ‰«å³ä¾§äºŒç»´ç é¢„è§ˆï¼‰'
	        ,content: mobileHome
	        ,area: ['375px', '667px']
	        ,shadeClose: true
	        ,shade: 0.8
	        ,end: function(){
	          layer.close(index + 2);
	        }
	      });
	      layer.photos({
	        photos: {
	          "data": [{
	            "src": "http://cdn.layui.com/upload/2016_12/168_1481056358469_50288.png",
	          }]
	        }
	        ,anim: 0
	        ,shade: false
	        ,success: function(layero){
	          layero.css('margin-left', '350px');
	        }
	      });
	    }
	  };
	  $('.site-demo-layim').on('click', function(){
	    var type = $(this).data('type');
	    active[type] ? active[type].call(this) : '';
	  });
	});
	</script>
	
</body>
	
	
	
</html>
